<!--zdjecia, filmiki
podstawowe info (adres, max 25-30 osob, wycena indywidualna)
rodzaje organizowanych imprez
zaopatrzenie

oferta
catering (slodki i slony stol)
kawa/herbata/napoje
alkohol do 20%
torty i ciasta
obsluga kelnerska

formularz (przycisk Zapytaj o oferte)
mail klienta
data i rodzaj imprezy
pole opisowe-->
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Cafe Arkady</title>
    <link rel="stylesheet" href="../css/sala.css">
</head>
<body>
    <div class="nawigacja">
        <a href="main.html">GÅÃ“WNA</a>
        <a href="menu.html">MENU</a>
        <a href="sezon.html">SEZONOWE</a>
        <a href="zespÃ³Å‚.html">ZESPÃ“Å</a>
        <a href="ciasta.html">CIASTA</a>
        <a href="torty.html">TORTY</a>
        <a href="sala.html">SALA</a>
        <a href="mieszkania.html">MIESZKANIA</a>
    </div>
<div class="sekcja-slider">
<div class="slider-container">
    <div class="slider-sala">
        <div class="slide"><img src="../img/sala1.jpg" alt="ZdjÄ™cie sali 1"></div>
        <div class="slide"><img src="../img/sala2.jpeg" alt="ZdjÄ™cie sali 2"></div>
        <div class="slide"><img src="../img/sala3.jpeg" alt="ZdjÄ™cie sali 3"></div>
        <div class="slide"><img src="../img/sala4.jpeg" alt="ZdjÄ™cie sali 4"></div>
        </div>
    </div>
    </div>
    <button class="prev-btn">â®</button>
    <button class="next-btn">â¯</button>
    
    <div class="dots-container">
        </div>
</div>

<div class="opis-sali">
    <h1>Wynajem Sali OkolicznoÅ›ciowej</h1>
    
    <div class="opis-content">
        <p>Idealne miejsce na Twoje przyjÄ™cie, spotkanie firmowe czy kameralnÄ… uroczystoÅ›Ä‡. Organizujemy przerÃ³Å¼ne imprezy okolicznoÅ›ciowe, m.in. urodziny, chrzty, 
            stypy, komunie czy szkolenia. Sala pomieÅ›ci maksymalnie 25 do 30 osÃ³b.</p>
        
        <h2>WyposaÅ¼enie</h2>
        <ul>
            <li>Klimatyzacja</li>
            <li>Projektor</li>
            <li>NagÅ‚oÅ›nienie</li>
            <li>Barek wraz z zastawÄ… stoÅ‚owÄ… i szkÅ‚em (kieliszki i szklanki)</li>
            <li>Osobna toaleta</li>
        </ul>
        
        <h2>Oferta Obejmuje</h2>
        <ul>
            <li>StÃ³Å‚ sÅ‚odki i sÅ‚ony</li>
            <li>KawÄ™, herbatÄ™ i inne napoje</li>
            <li>Alkohol do 20%</li>
            <li>Torty i ciasta</li>
            <li>ObsÅ‚ugÄ™ kelnerskÄ…</li>
        </ul>
        
<div class="wycena">
        <h3>Wycena i szczegÃ³Å‚y ustalane sÄ… indywidualnie.</h3>
    </div>
    </div>
</div>

<div class="sekcja-formularza">
    <h2>Zapytaj o OfertÄ™</h2>
    
    <form id="salaFormularz">
        
        <div class="form-group">
            <label for="email">TwÃ³j Adres E-mail*</label>
            <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group row-fields">
            <div class="half-field">
                <label for="data">Preferowana Data</label>
                <input type="date" id="data" name="data">
            </div>
            <div class="half-field">
                <label for="rodzaj">Rodzaj Imprezy</label>
                <input type="text" id="rodzaj" name="rodzaj" placeholder="np. Urodziny, Chrzest, Szkolenie">
            </div>
        </div>

        <div class="form-group">
            <label for="opis">SzczegÃ³Å‚y / Opis Zapytania*</label>
            <textarea id="opis" name="opis" rows="6" required placeholder="Napisz, ile osÃ³b spodziewasz siÄ™, jaki masz budÅ¼et i inne kluczowe szczegÃ³Å‚y..."></textarea>
        </div>

        <button type="submit" class="submit-btn">WyÅ›lij Zapytanie</button>
    </form>
    
    <p class="klauzula">
        Po klikniÄ™ciu "WyÅ›lij Zapytanie" wyskoczy okienko z gotowÄ… wiadomoÅ›ciÄ….<br>
        PamiÄ™taj, aby jÄ… wysÅ‚aÄ‡!
    </p>
</div>

    <div class="kontakt">
        <div class="kontakt-content">
            <div class="info-group">
                <div class="kontakt-info">
                    <h3>Kontakt</h3>
                    <p>
                        ğŸ“§ Email: <a href="mailto:arkady.socialmedia@gmail.com">arkady.socialmedia@gmail.com</a><br>
                        ğŸ“ Adres: ul. Zamehofa 44E, 72-010 Police
                    </p>
                </div>
                <div class="godziny">
                    <h3>Godziny Otwarcia</h3>
                    <p>
                        PoniedziaÅ‚ek - Czwartek: 10:00 - 19:00<br>
                        PiÄ…tek: 10:00 - 20:00<br>
                        Sobota - Niedziela: 9:00 - 20:00
                    </p>
                </div>
            </div>
        </div>
    </div>

<div id="modalWiadomosci" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Skopiuj i WyÅ›lij Zapytanie</h2>
        <p>ProszÄ™, skopiuj poniÅ¼szy tekst, otwÃ³rz swojÄ… pocztÄ™ i wyÅ›lij do <strong id="modalEmailTarget"></strong>.</p>
        
        <textarea id="trescDoSkopiowania" rows="12" readonly></textarea>
        
        <button id="copyButton" class="copy-btn">Kopiuj WiadomoÅ›Ä‡</button>
        <p class="klauzula-modal">PamiÄ™taj, aby wysÅ‚aÄ‡ e-mail z wÅ‚asnej skrzynki!</p>
    </div>
</div>

<script>
    const nawigacja = document.querySelector(".nawigacja");
    window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
            nawigacja.classList.add("scroll");
        } else {
            nawigacja.classList.remove("scroll");
        }
    });
    //KUUUUUUUUUUUUUUUUUUUUUUUUURWAAAAAAAAA
    const slider = document.querySelector(".slider-sala");
    const slides = document.querySelectorAll(".slide");
    const sliderContainer = document.querySelector(".slider-container");
    const prevBtn = document.querySelector(".prev-btn");
    const nextBtn = document.querySelector(".next-btn");
    
    if (slider && slides.length > 0) {
        let currentIndex = 0;
        const totalSlides = slides.length;

        function updateSlider() {
            // SzerokoÅ›Ä‡ jednego slajdu (w pixelach)
            const slideWidth = slides[0].offsetWidth; 
            
            // Rzeczywista szerokoÅ›Ä‡ kontenera widocznego (w pixelach)
            const containerWidth = sliderContainer.offsetWidth; 

            // PrzesuniÄ™cie potrzebne, by dany slajd znalazÅ‚ siÄ™ na skrajnej lewej
            const offset = currentIndex * (slideWidth + (containerWidth * 0.04)); // 0.04 to suma marginÃ³w (2% + 2%)
            
            // Korekta centrowania: PrzesuÅ„ w lewo o poÅ‚owÄ™ widocznego kontenera, 
            // a nastÄ™pnie przesuÅ„ w prawo o poÅ‚owÄ™ szerokoÅ›ci slajdu
            const centerAdjustment = (containerWidth / 2) - (slideWidth / 2);
            
            // CaÅ‚kowite przesuniÄ™cie
            const finalTransform = offset - centerAdjustment;
            
            slider.style.transform = `translateX(${-finalTransform}px)`;

            // UsuÅ„ klasÄ™ 'active' ze wszystkich i dodaj do aktualnego
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentIndex].classList.add('active');
        }
        
        updateSlider();
        window.addEventListener('resize', updateSlider); // Poprawka przy zmianie rozmiaru okna

        nextBtn.addEventListener("click", () => {
            if (currentIndex < totalSlides - 1) {
                currentIndex++;
            } else {
                currentIndex = 0;
            }
            updateSlider();
        });

        prevBtn.addEventListener("click", () => {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = totalSlides - 1;
            }
            updateSlider();
        });
    }

    //formularz
        const form = document.getElementById('salaFormularz');
    const emailTarget = 'arkady.socialmedia@gmail.com';

    const modal = document.getElementById('modalWiadomosci');
    const closeBtn = document.querySelector('.close-btn');
    const copyBtn = document.getElementById('copyButton');
    const trescArea = document.getElementById('trescDoSkopiowania');
    const modalEmailTarget = document.getElementById('modalEmailTarget');

    function closeModal() {
        modal.style.display = 'none';
    }

    // ObsÅ‚uga zamkniÄ™cia modala
    closeBtn.onclick = closeModal;
    window.onclick = function(event) {
        if (event.target === modal) {
            closeModal();
        }
    }

    // Logika kopiowania
    copyBtn.addEventListener('click', function() {
        trescArea.select(); // Zaznaczenie tekstu
        trescArea.setSelectionRange(0, 99999); // Dla urzÄ…dzeÅ„ mobilnych
        document.execCommand('copy'); // Wykonanie kopiowania
        
        // Wizualne potwierdzenie skopiowania
        copyBtn.textContent = 'Skopiowano!';
        setTimeout(() => {
            copyBtn.textContent = 'Kopiuj WiadomoÅ›Ä‡';
            closeModal(); // MoÅ¼esz zamknÄ…Ä‡ modal po skopiowaniu
        }, 1500);
    });

    // GÅ‚Ã³wna funkcja formularza
    form.addEventListener('submit', function(event) {
        event.preventDefault(); 

        const klientEmail = document.getElementById('email').value;
        const data = document.getElementById('data').value;
        const rodzaj = document.getElementById('rodzaj').value;
        const opis = document.getElementById('opis').value;
        
        if (!klientEmail || !opis) {
            alert('ProszÄ™ wypeÅ‚niÄ‡ pola E-mail i SzczegÃ³Å‚y / Opis Zapytania.');
            return;
        }

        // TreÅ›Ä‡ wiadomoÅ›ci (bez kodowania, bo bÄ™dzie w textarea)
        let tresc = 'Temat: Zapytanie o Wynajem Sali - ' + (rodzaj || 'Brak Rodzaju') + '\n\n';
        tresc += 'DzieÅ„ dobry, proszÄ™ o ofertÄ™ wynajmu Sali OkolicznoÅ›ciowej.\n\n';
        tresc += 'Preferowana Data: ' + (data || 'Nie podano') + '\n';
        tresc += 'Rodzaj Imprezy: ' + (rodzaj || 'Nie podano') + '\n';
        tresc += 'MÃ³j adres e-mail: ' + klientEmail + '\n\n';
        tresc += 'SzczegÃ³Å‚y Zapytania:\n' + opis;
        tresc += '\n\n---------------------------------------------\n';
        tresc += 'WiadomoÅ›Ä‡ wygenerowana przez formularz Cafe Arkady.';
        
        // Ustawienie wartoÅ›ci w modalu
        modalEmailTarget.textContent = emailTarget;
        trescArea.value = tresc;
        
        // WyÅ›wietlenie modala
        modal.style.display = 'block';
        
        // MoÅ¼esz zresetowaÄ‡ formularz, by byÅ‚ gotowy na kolejne zapytanie
        form.reset();
    });

</script>

</body>
</html>
